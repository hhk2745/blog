<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>브라우저의 기본 구조 | 그날의 기억</title>
    <meta name="generator" content="VuePress 1.9.7">
    
    <meta name="description" content="쭉가자">
    
    <link rel="preload" href="/blog/assets/css/0.styles.616e89b1.css" as="style"><link rel="preload" href="/blog/assets/js/app.5dce19d1.js" as="script"><link rel="preload" href="/blog/assets/js/2.2defd20b.js" as="script"><link rel="preload" href="/blog/assets/js/7.93bef4e6.js" as="script"><link rel="prefetch" href="/blog/assets/js/10.3951f81b.js"><link rel="prefetch" href="/blog/assets/js/11.caeb9a3f.js"><link rel="prefetch" href="/blog/assets/js/12.4def8e1e.js"><link rel="prefetch" href="/blog/assets/js/13.44684b33.js"><link rel="prefetch" href="/blog/assets/js/14.f3b90927.js"><link rel="prefetch" href="/blog/assets/js/15.17a635b2.js"><link rel="prefetch" href="/blog/assets/js/3.4dc7ceaa.js"><link rel="prefetch" href="/blog/assets/js/4.26f73e91.js"><link rel="prefetch" href="/blog/assets/js/5.5dcec586.js"><link rel="prefetch" href="/blog/assets/js/6.f2a96706.js"><link rel="prefetch" href="/blog/assets/js/8.e06be0f6.js"><link rel="prefetch" href="/blog/assets/js/9.fc2ec30d.js">
    <link rel="stylesheet" href="/blog/assets/css/0.styles.616e89b1.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/blog/" class="home-link router-link-active"><!----> <span class="site-name">그날의 기억</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="https://github.com/hhk2745" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="https://github.com/hhk2745" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>HOME</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>CS</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/blog/CS/browser.html" aria-current="page" class="active sidebar-link">브라우저의 기본 구조</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blog/CS/browser.html#렌더링-엔진" class="sidebar-link">렌더링 엔진</a></li><li class="sidebar-sub-header"><a href="/blog/CS/browser.html#렌더링-엔진들" class="sidebar-link">렌더링 엔진들</a></li><li class="sidebar-sub-header"><a href="/blog/CS/browser.html#동작-과정" class="sidebar-link">동작 과정</a></li></ul></li><li><a href="/blog/CS/http.html" class="sidebar-link">프로토콜</a></li><li><a href="/blog/CS/oop.html" class="sidebar-link">객체 지향 프로그래밍(Object-Oriented Programming)</a></li><li><a href="/blog/CS/os.html" class="sidebar-link">소프트웨어 &gt; 운영체제 &gt; 프로그램 &gt; 프로세스 &gt; 스레드</a></li><li><a href="/blog/CS/storage.html" class="sidebar-link">쿠키</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>React</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>javasciprt</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="브라우저의-기본-구조"><a href="#브라우저의-기본-구조" class="header-anchor">#</a> 브라우저의 기본 구조</h1> <p>구글의 Chrome V8 자바스크립트 엔진으로 빌드된 자바스크립트 런타임 환경(Runtime Environment)인 <code>Node.js</code>의 등장으로 자바스크립트는 웹 브라우저를 벗어나
서버 사이드 애플리케이션 개발에서도 사용되는 범용 개발 언어가 되었다. 하지만 자바스크립트가 가장 많이 사용되는 분야는 역시 웹 브라우저 환경에서 동작하는 웹 페이지,애플리케이션이다.</p> <p>대부분 프로그래밍 언어는 운영체제위에서 실행되지만 웹 어플리케이션의 자바스크립트는 브라우저에서 HTML, CSS와 함께 실행된다.
따라서 브라우저 환경을 고려할 때 보다 효율적인 자바스크립트 프로그래밍이 가능하다.</p> <p>브라우저의 핵심 기능은 사용자가 참조하고자 하는 웹페이지를 서버에 요청(Request)하고 서버의 응답(Response)을 받아 브라우저에 표시하는 것이다.
브라우저는 서버로부터 HTML, CSS, Javascript, 이미지 파일 등을 응답받는다. HTML, CSS 파일은 렌더링 엔진의 HTML 파서와 CSS 파서에 의해 파싱(Parsing)되어 DOM, CSSOM 트리로 변환되고 렌더 트리로 결합된다.
이렇게 생성된 렌더 트리를 기반으로 브라우저는 웹페이지를 표시한다.
</p><p align="center"><img src="https://user-images.githubusercontent.com/18409941/185930522-d84783e5-d5d2-4437-9ed6-9ca8ff076fd7.png" alt="client-server" title="브라우저 동작 과정"> <em>브라우저 동작 과정</em></p><p></p> <p>자바스크립트는 렌더링 엔진이 아닌 자바스크립트 엔진이 처리한다. HTML 파서는 script 태그를 만나면 자바스크립트 코드를 실행하기 위해 DOM 생성 프로세스를 중지하고 자바스크립트 엔진으로 제어 권한을 넘긴다.
제어 권한을 넘겨 받은 자바스크립트 엔진은 script 태그 내의 자바스크립트 코드 또는 script 태그의 src 어트리뷰트에 정의된
자바스크립트 파일을 로드하고 파싱하여 실행한다. 자바스크립트의 실행이 완료되면 다시 HTML 파서로 제어 권한을 넘겨서 브라우저가 중지했던 시점부터 DOM 생성을 재개한다.</p> <p>이처럼 브라우저는 <code>동기(Synchronous)</code>적으로 HTML, CSS, Javascript를 처리한다. 이것은 script 태그의 위치에 따라 블로킹이 발생하여 DOM의 생성이 지연될 수 있다는 것을 의미한다. 따라서 script 태그의 위치는 중요한 의미를 갖는다.</p> <p>body 요소의 가장 아래에 자바스크립트를 위치시키는 것은 좋은 아이디어이다. 그 이유는 아래와 같다.</p> <ol><li>HTML 요소들이 스크립트 로딩 지연으로 인해 렌더링에 지장 받는 일이 발생하지 않아 페이지 로딩 시간이 단축된다.</li> <li>DOM이 완성되지 않은 상태에서 자바스크립트가 DOM을 조작한다면 에러가 발생한다.</li></ol> <h2 id="렌더링-엔진"><a href="#렌더링-엔진" class="header-anchor">#</a> 렌더링 엔진</h2> <p>렌더링 엔진의 역할은 요청 받은 내용을 브라우저 화면에 표시하는 일이다.</p> <p>렌더링 엔진은 HTML, XML, 이미지를 표시할 수 있다. 물론 플러그인이나 브라우저 확장 기능을 이용해 PDF와 같은 다른 유형도 표시할 수 있다.</p> <h2 id="렌더링-엔진들"><a href="#렌더링-엔진들" class="header-anchor">#</a> 렌더링 엔진들</h2> <p>파이어폭스, 크롬, 사파리는 두 종류의 렌더링 엔진으로 제작되었다. 파이어폭스는 모질라에서 직접 만든 게코(Gecko) 엔진을 사용하고 사파리와 크롬은 웹킷(Webkit) 엔진을 사용한다.</p> <p>웹킷은 최초 리눅스 플랫폼에서 동작하기 위해 제작된 오픈소스 엔진인데 애플이 맥과 윈도우즈에서 사파리 브라우저를 지원하기 위해 일부 수정을 했다.
더 자세한 내용은 <a href="webkit.org">webkit.org</a>를 참조한다.</p> <h2 id="동작-과정"><a href="#동작-과정" class="header-anchor">#</a> 동작 과정</h2> <p>렌더링 엔진은 통신으로부터 요청한 문서의 내용을 얻는 것으로 시작하는데 문서의 내용은 보통 8KB 단위로 전송된다.</p> <p>다음은 렌더링 엔진의 기본적인 동작 과정이다.
</p><p align="center"><img src="https://user-images.githubusercontent.com/18409941/185933734-514bc920-379c-456b-97c0-5c176f945df0.png" alt="rendering-engine" title="렌더링 엔진의 동작 과정"> <em>렌더링 엔진의 동작 과정</em></p><p></p> <p>렌더링 엔진은 HTML 문서를 파싱하고 <code>&quot;콘텐츠 트리&quot;</code>내부에서 태그를 DOM 노드로 변환한다. 그 다음 외부 CSS 파일과 함께 포함된 스타일 요소도 파싱한다.
스타일 정보와 HTML 표시 규칙은 <code>&quot;렌더 트리&quot;</code>라고 부르는 또 다른 트리를 생성한다.</p> <p>렌더 트리는 색상 또는 면적과 같은 시각적 속성이 있는 사각형을 포함하고 있는다 정해진 순서대로 화면에 표시된다.</p> <p>렌더 트리 생성이 끝나면 배치가 시작되는데 이것은 각 노드가 화면의 정확한 위치에 표시되는 것을 의미한다. 다음은 UI 백엔드에서 렌더 트리의 각 노드를 가로지르며
형상을 만들어 내는 그리기 과정이다.</p> <p><code>일련의 과정들이 점진적으로 진행된다는 것</code>을 아는 것이 중요하다. 렌더링 엔진은 좀 더 나은 사용자 경험을 위해 가능하면 빠르게 내용을 표시하는데 모든 HTML을 파싱할 때까지 기다리지 않고 배치와 그리기 과정을 시작한다.
네트워크로부터 나머지 내용이 전송되기를 기다리는 동안 받은 내용의 일부를 먼저 화면에 표시하는 것이다.</p> <p><a href="https://poiemaweb.com/js-browser" target="_blank" rel="noopener noreferrer">참고사이트1<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> <a href="https://d2.naver.com/helloworld/59361" target="_blank" rel="noopener noreferrer">참고사이트2<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/blog/" class="prev router-link-active">
        vuepress + github pages
      </a></span> <span class="next"><a href="/blog/CS/http.html">
        프로토콜
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/blog/assets/js/app.5dce19d1.js" defer></script><script src="/blog/assets/js/2.2defd20b.js" defer></script><script src="/blog/assets/js/7.93bef4e6.js" defer></script>
  </body>
</html>
